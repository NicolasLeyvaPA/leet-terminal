import { generatePriceHistory, generateOrderbook } from '../utils/helpers.js';

// Market definitions - price_history and orderbook will be generated
const marketDefinitions = [
  {
    id: "poly-btc-150k",
    ticker: "BTC150K",
    platform: "Polymarket",
    question: "Will Bitcoin exceed $150,000 before July 2025?",
    category: "Crypto",
    subcategory: "Bitcoin",
    market_prob: 0.34,
    model_prob: 0.42,
    prev_prob: 0.32,
    volume_24h: 245000,
    volume_total: 12500000,
    liquidity: 890000,
    spread: 0.012,
    open_interest: 3200000,
    trades_24h: 1847,
    end_date: "2025-07-01",
    created: "2024-01-15",
    resolution_source: "CoinGecko price at 23:59 UTC",
    factors: {
      orderbook_imbalance: { value: 0.72, contribution: 0.18, direction: "bullish", desc: "Strong buy-side depth imbalance" },
      price_momentum: { value: 0.65, contribution: 0.12, direction: "bullish", desc: "14-day momentum positive" },
      volume_trend: { value: 0.58, contribution: 0.08, direction: "bullish", desc: "Increasing volume pattern" },
      news_sentiment: { value: 0.71, contribution: 0.15, direction: "bullish", desc: "Positive news flow last 48h" },
      social_sentiment: { value: 0.62, contribution: 0.09, direction: "bullish", desc: "Twitter sentiment +45%" },
      smart_money: { value: 0.75, contribution: 0.14, direction: "bullish", desc: "Large wallet accumulation" },
      historical_pattern: { value: 0.55, contribution: 0.06, direction: "neutral", desc: "Similar events 55% resolution rate" },
      time_decay: { value: 0.48, contribution: -0.04, direction: "bearish", desc: "Theta decay as expiry approaches" },
      liquidity_score: { value: 0.82, contribution: 0.08, direction: "bullish", desc: "High liquidity, low slippage" },
      model_confidence: { value: 0.78, contribution: 0.14, direction: "bullish", desc: "High model agreement (4/4)" },
    },
    model_breakdown: {
      lightgbm: { prob: 0.44, weight: 0.35, confidence: 0.82 },
      xgboost: { prob: 0.41, weight: 0.3, confidence: 0.79 },
      logistic: { prob: 0.39, weight: 0.2, confidence: 0.71 },
      bayesian: { prob: 0.43, weight: 0.15, confidence: 0.75 },
    },
    greeks: { delta: 0.42, gamma: 0.08, theta: -0.002, vega: 0.15, rho: 0.03 },
    correlations: { ETH5K: 0.85, FEDQ1: -0.32, SPY: 0.42, GOLD: -0.15 },
    related_news: [
      { time: "2h ago", title: "Bitcoin ETF sees record inflows", sentiment: 0.8, source: "Bloomberg" },
      { time: "5h ago", title: "MicroStrategy adds 2,100 BTC", sentiment: 0.7, source: "Reuters" },
      { time: "1d ago", title: "Fed signals dovish stance", sentiment: 0.6, source: "CNBC" },
    ],
  },
  {
    id: "poly-eth-5k",
    ticker: "ETH5K",
    platform: "Polymarket",
    question: "Will Ethereum exceed $5,000 in 2025?",
    category: "Crypto",
    subcategory: "Ethereum",
    market_prob: 0.45,
    model_prob: 0.53,
    prev_prob: 0.43,
    volume_24h: 320000,
    volume_total: 14200000,
    liquidity: 1100000,
    spread: 0.01,
    open_interest: 3800000,
    trades_24h: 2156,
    end_date: "2025-12-31",
    created: "2024-01-01",
    resolution_source: "CoinGecko price",
    factors: {
      orderbook_imbalance: { value: 0.58, contribution: 0.1, direction: "bullish", desc: "Moderate buy pressure" },
      price_momentum: { value: 0.52, contribution: 0.05, direction: "neutral", desc: "Consolidating pattern" },
      volume_trend: { value: 0.61, contribution: 0.08, direction: "bullish", desc: "Volume uptick detected" },
      news_sentiment: { value: 0.65, contribution: 0.11, direction: "bullish", desc: "ETF narrative building" },
      social_sentiment: { value: 0.58, contribution: 0.07, direction: "bullish", desc: "Developer activity up" },
      smart_money: { value: 0.68, contribution: 0.12, direction: "bullish", desc: "Staking deposits increasing" },
      historical_pattern: { value: 0.52, contribution: 0.04, direction: "neutral", desc: "Mixed historical performance" },
      time_decay: { value: 0.55, contribution: 0.02, direction: "neutral", desc: "Long time to expiry" },
      liquidity_score: { value: 0.88, contribution: 0.09, direction: "bullish", desc: "Excellent liquidity" },
      model_confidence: { value: 0.72, contribution: 0.1, direction: "bullish", desc: "Good model agreement (3/4)" },
    },
    model_breakdown: {
      lightgbm: { prob: 0.55, weight: 0.35, confidence: 0.78 },
      xgboost: { prob: 0.52, weight: 0.3, confidence: 0.74 },
      logistic: { prob: 0.49, weight: 0.2, confidence: 0.68 },
      bayesian: { prob: 0.54, weight: 0.15, confidence: 0.71 },
    },
    greeks: { delta: 0.53, gamma: 0.09, theta: -0.001, vega: 0.16, rho: 0.02 },
    correlations: { BTC150K: 0.85, SOL200: 0.75, SPY: 0.38, ARKK: 0.52 },
    related_news: [
      { time: "3h ago", title: "Ethereum L2 TVL hits new ATH", sentiment: 0.75, source: "DeFi Pulse" },
      { time: "8h ago", title: "Vitalik discusses scaling roadmap", sentiment: 0.6, source: "Twitter" },
    ],
  },
  {
    id: "kalshi-fed-q1",
    ticker: "FEDQ1",
    platform: "Kalshi",
    question: "Will the Fed cut rates in Q1 2025?",
    category: "Economics",
    subcategory: "Monetary Policy",
    market_prob: 0.62,
    model_prob: 0.53,
    prev_prob: 0.65,
    volume_24h: 189000,
    volume_total: 8900000,
    liquidity: 1200000,
    spread: 0.008,
    open_interest: 2100000,
    trades_24h: 2341,
    end_date: "2025-04-01",
    created: "2024-06-01",
    resolution_source: "Federal Reserve announcement",
    factors: {
      orderbook_imbalance: { value: 0.42, contribution: -0.08, direction: "bearish", desc: "Sell pressure emerging" },
      price_momentum: { value: 0.38, contribution: -0.12, direction: "bearish", desc: "Downtrend last 14 days" },
      volume_trend: { value: 0.55, contribution: 0.02, direction: "neutral", desc: "Stable volume" },
      news_sentiment: { value: 0.35, contribution: -0.15, direction: "bearish", desc: "Hawkish Fed commentary" },
      social_sentiment: { value: 0.42, contribution: -0.06, direction: "bearish", desc: "Market skeptical" },
      smart_money: { value: 0.38, contribution: -0.1, direction: "bearish", desc: "Bond traders selling" },
      historical_pattern: { value: 0.45, contribution: -0.04, direction: "bearish", desc: "Cuts rare with strong labor" },
      time_decay: { value: 0.52, contribution: 0.01, direction: "neutral", desc: "Moderate time to expiry" },
      liquidity_score: { value: 0.92, contribution: 0.06, direction: "bullish", desc: "Very high liquidity" },
      model_confidence: { value: 0.81, contribution: -0.12, direction: "bearish", desc: "Strong model agreement on SELL" },
    },
    model_breakdown: {
      lightgbm: { prob: 0.51, weight: 0.35, confidence: 0.84 },
      xgboost: { prob: 0.54, weight: 0.3, confidence: 0.81 },
      logistic: { prob: 0.55, weight: 0.2, confidence: 0.76 },
      bayesian: { prob: 0.52, weight: 0.15, confidence: 0.79 },
    },
    greeks: { delta: -0.53, gamma: 0.06, theta: -0.003, vega: 0.12, rho: -0.08 },
    correlations: { BTC150K: -0.32, SPY: 0.55, TLT: 0.72, GOLD: 0.35 },
    related_news: [
      { time: "1h ago", title: 'Powell: "No rush to cut rates"', sentiment: -0.7, source: "Fed" },
      { time: "6h ago", title: "CPI comes in above expectations", sentiment: -0.6, source: "BLS" },
      { time: "1d ago", title: "Jobs report shows resilient labor market", sentiment: -0.5, source: "Reuters" },
    ],
  },
  {
    id: "poly-spacex",
    ticker: "SXSHIP",
    platform: "Polymarket",
    question: "Will SpaceX Starship reach orbit by June 2025?",
    category: "Science",
    subcategory: "Space",
    market_prob: 0.75,
    model_prob: 0.84,
    prev_prob: 0.72,
    volume_24h: 120000,
    volume_total: 5600000,
    liquidity: 450000,
    spread: 0.015,
    open_interest: 1800000,
    trades_24h: 892,
    end_date: "2025-06-30",
    created: "2024-03-01",
    resolution_source: "Official SpaceX announcement + FAA confirmation",
    factors: {
      orderbook_imbalance: { value: 0.78, contribution: 0.14, direction: "bullish", desc: "Strong bid support" },
      price_momentum: { value: 0.82, contribution: 0.16, direction: "bullish", desc: "Sustained uptrend" },
      volume_trend: { value: 0.68, contribution: 0.08, direction: "bullish", desc: "Growing interest" },
      news_sentiment: { value: 0.85, contribution: 0.18, direction: "bullish", desc: "Very positive coverage" },
      social_sentiment: { value: 0.88, contribution: 0.12, direction: "bullish", desc: "Elon tweets driving optimism" },
      smart_money: { value: 0.72, contribution: 0.1, direction: "bullish", desc: "Insider confidence high" },
      historical_pattern: { value: 0.65, contribution: 0.06, direction: "bullish", desc: "SpaceX track record strong" },
      time_decay: { value: 0.58, contribution: 0.02, direction: "neutral", desc: "Moderate time remaining" },
      liquidity_score: { value: 0.65, contribution: 0.04, direction: "neutral", desc: "Adequate liquidity" },
      model_confidence: { value: 0.91, contribution: 0.18, direction: "bullish", desc: "Very high model consensus" },
    },
    model_breakdown: {
      lightgbm: { prob: 0.86, weight: 0.35, confidence: 0.92 },
      xgboost: { prob: 0.83, weight: 0.3, confidence: 0.89 },
      logistic: { prob: 0.81, weight: 0.2, confidence: 0.84 },
      bayesian: { prob: 0.85, weight: 0.15, confidence: 0.88 },
    },
    greeks: { delta: 0.84, gamma: 0.04, theta: -0.001, vega: 0.08, rho: 0.01 },
    correlations: { TSLA: 0.45, ARKK: 0.38, GPT5: 0.25, BA: 0.22 },
    related_news: [
      { time: "4h ago", title: "Starship Flight 7 achieves all objectives", sentiment: 0.9, source: "SpaceX" },
      { time: "2d ago", title: "FAA grants expanded launch license", sentiment: 0.8, source: "FAA" },
    ],
  },
  {
    id: "poly-gpt5",
    ticker: "GPT5",
    platform: "Polymarket",
    question: "Will OpenAI release GPT-5 before July 2025?",
    category: "Tech",
    subcategory: "AI",
    market_prob: 0.55,
    model_prob: 0.64,
    prev_prob: 0.52,
    volume_24h: 150000,
    volume_total: 7200000,
    liquidity: 680000,
    spread: 0.011,
    open_interest: 2400000,
    trades_24h: 1456,
    end_date: "2025-07-01",
    created: "2024-02-15",
    resolution_source: "Official OpenAI announcement",
    factors: {
      orderbook_imbalance: { value: 0.62, contribution: 0.1, direction: "bullish", desc: "Buyers stepping in" },
      price_momentum: { value: 0.58, contribution: 0.06, direction: "bullish", desc: "Gradual uptrend" },
      volume_trend: { value: 0.65, contribution: 0.08, direction: "bullish", desc: "Volume increasing" },
      news_sentiment: { value: 0.72, contribution: 0.14, direction: "bullish", desc: "Sam Altman hints at progress" },
      social_sentiment: { value: 0.68, contribution: 0.1, direction: "bullish", desc: "Industry buzz growing" },
      smart_money: { value: 0.65, contribution: 0.09, direction: "bullish", desc: "VC activity suggests readiness" },
      historical_pattern: { value: 0.55, contribution: 0.04, direction: "neutral", desc: "OpenAI often delays" },
      time_decay: { value: 0.52, contribution: 0.01, direction: "neutral", desc: "Moderate time left" },
      liquidity_score: { value: 0.78, contribution: 0.06, direction: "bullish", desc: "Good liquidity" },
      model_confidence: { value: 0.75, contribution: 0.11, direction: "bullish", desc: "Good model agreement" },
    },
    model_breakdown: {
      lightgbm: { prob: 0.66, weight: 0.35, confidence: 0.78 },
      xgboost: { prob: 0.63, weight: 0.3, confidence: 0.75 },
      logistic: { prob: 0.61, weight: 0.2, confidence: 0.7 },
      bayesian: { prob: 0.65, weight: 0.15, confidence: 0.73 },
    },
    greeks: { delta: 0.64, gamma: 0.07, theta: -0.002, vega: 0.14, rho: 0.02 },
    correlations: { MSFT: 0.52, NVDA: 0.61, GOOGL: 0.48, SXSHIP: 0.25 },
    related_news: [
      { time: "6h ago", title: "OpenAI hiring spree continues", sentiment: 0.65, source: "LinkedIn" },
      { time: "1d ago", title: 'Altman: "2025 will be huge for AI"', sentiment: 0.75, source: "Twitter" },
    ],
  },
  {
    id: "kalshi-tiktok",
    ticker: "TIKTOK",
    platform: "Kalshi",
    question: "Will TikTok be banned in the US in 2025?",
    category: "Tech",
    subcategory: "Regulation",
    market_prob: 0.42,
    model_prob: 0.52,
    prev_prob: 0.38,
    volume_24h: 230000,
    volume_total: 11500000,
    liquidity: 920000,
    spread: 0.011,
    open_interest: 3100000,
    trades_24h: 2034,
    end_date: "2025-12-31",
    created: "2024-04-01",
    resolution_source: "Federal law / executive action",
    factors: {
      orderbook_imbalance: { value: 0.68, contribution: 0.12, direction: "bullish", desc: "Buy pressure building" },
      price_momentum: { value: 0.72, contribution: 0.14, direction: "bullish", desc: "Sharp recent uptick" },
      volume_trend: { value: 0.75, contribution: 0.1, direction: "bullish", desc: "Surging volume" },
      news_sentiment: { value: 0.78, contribution: 0.16, direction: "bullish", desc: "Congress moving forward" },
      social_sentiment: { value: 0.55, contribution: 0.04, direction: "neutral", desc: "Public opinion mixed" },
      smart_money: { value: 0.71, contribution: 0.11, direction: "bullish", desc: "Legal experts betting yes" },
      historical_pattern: { value: 0.45, contribution: -0.03, direction: "bearish", desc: "Past bans overturned" },
      time_decay: { value: 0.58, contribution: 0.02, direction: "neutral", desc: "Long time to expiry" },
      liquidity_score: { value: 0.85, contribution: 0.07, direction: "bullish", desc: "High liquidity" },
      model_confidence: { value: 0.76, contribution: 0.12, direction: "bullish", desc: "Models favor ban" },
    },
    model_breakdown: {
      lightgbm: { prob: 0.54, weight: 0.35, confidence: 0.79 },
      xgboost: { prob: 0.51, weight: 0.3, confidence: 0.76 },
      logistic: { prob: 0.49, weight: 0.2, confidence: 0.72 },
      bayesian: { prob: 0.53, weight: 0.15, confidence: 0.74 },
    },
    greeks: { delta: 0.52, gamma: 0.08, theta: -0.001, vega: 0.15, rho: 0.02 },
    correlations: { META: 0.35, SNAP: 0.28, GOOGL: 0.22, PINS: 0.31 },
    related_news: [
      { time: "2h ago", title: "Supreme Court to hear TikTok case", sentiment: 0.7, source: "Reuters" },
      { time: "12h ago", title: "ByteDance explores sale options", sentiment: 0.5, source: "WSJ" },
    ],
  },
  {
    id: "poly-ukraine",
    ticker: "UKRPCE",
    platform: "Polymarket",
    question: "Will Ukraine conflict have ceasefire by Dec 2025?",
    category: "Geopolitics",
    subcategory: "Conflicts",
    market_prob: 0.32,
    model_prob: 0.41,
    prev_prob: 0.28,
    volume_24h: 210000,
    volume_total: 9800000,
    liquidity: 780000,
    spread: 0.014,
    open_interest: 2900000,
    trades_24h: 1678,
    end_date: "2025-12-31",
    created: "2024-02-01",
    resolution_source: "Official ceasefire announcement by parties",
    factors: {
      orderbook_imbalance: { value: 0.62, contribution: 0.1, direction: "bullish", desc: "Buyers emerging" },
      price_momentum: { value: 0.68, contribution: 0.12, direction: "bullish", desc: "Strong recent rally" },
      volume_trend: { value: 0.72, contribution: 0.1, direction: "bullish", desc: "Volume spike on Trump news" },
      news_sentiment: { value: 0.65, contribution: 0.13, direction: "bullish", desc: "Diplomacy headlines" },
      social_sentiment: { value: 0.58, contribution: 0.06, direction: "bullish", desc: "Peace talks speculation" },
      smart_money: { value: 0.61, contribution: 0.09, direction: "bullish", desc: "Defense stocks hedging" },
      historical_pattern: { value: 0.35, contribution: -0.06, direction: "bearish", desc: "Conflicts rarely end quickly" },
      time_decay: { value: 0.55, contribution: 0.02, direction: "neutral", desc: "Long time horizon" },
      liquidity_score: { value: 0.75, contribution: 0.05, direction: "bullish", desc: "Good liquidity" },
      model_confidence: { value: 0.68, contribution: 0.08, direction: "bullish", desc: "Models cautiously bullish" },
    },
    model_breakdown: {
      lightgbm: { prob: 0.43, weight: 0.35, confidence: 0.72 },
      xgboost: { prob: 0.4, weight: 0.3, confidence: 0.68 },
      logistic: { prob: 0.38, weight: 0.2, confidence: 0.62 },
      bayesian: { prob: 0.42, weight: 0.15, confidence: 0.65 },
    },
    greeks: { delta: 0.41, gamma: 0.11, theta: -0.001, vega: 0.22, rho: 0.03 },
    correlations: { OIL: -0.45, WHEAT: -0.52, RTX: -0.38, EUR: 0.42 },
    related_news: [
      { time: "3h ago", title: "Trump envoy meets with Putin", sentiment: 0.7, source: "AP" },
      { time: "1d ago", title: "Zelensky open to negotiations", sentiment: 0.65, source: "BBC" },
    ],
  },
  {
    id: "kalshi-recession",
    ticker: "USREC",
    platform: "Kalshi",
    question: "Will US enter recession in 2025?",
    category: "Economics",
    subcategory: "Macro",
    market_prob: 0.22,
    model_prob: 0.18,
    prev_prob: 0.25,
    volume_24h: 180000,
    volume_total: 8500000,
    liquidity: 950000,
    spread: 0.009,
    open_interest: 2600000,
    trades_24h: 1890,
    end_date: "2025-12-31",
    created: "2024-01-01",
    resolution_source: "NBER official recession dating",
    factors: {
      orderbook_imbalance: { value: 0.38, contribution: -0.08, direction: "bearish", desc: "Sellers dominating" },
      price_momentum: { value: 0.35, contribution: -0.1, direction: "bearish", desc: "Downtrend continues" },
      volume_trend: { value: 0.52, contribution: 0.02, direction: "neutral", desc: "Stable volume" },
      news_sentiment: { value: 0.32, contribution: -0.12, direction: "bearish", desc: "Strong economy narrative" },
      social_sentiment: { value: 0.4, contribution: -0.05, direction: "bearish", desc: "Consumer confidence high" },
      smart_money: { value: 0.35, contribution: -0.09, direction: "bearish", desc: "Economists bullish" },
      historical_pattern: { value: 0.42, contribution: -0.04, direction: "bearish", desc: "Late-cycle but no triggers" },
      time_decay: { value: 0.55, contribution: 0.01, direction: "neutral", desc: "Time for data to develop" },
      liquidity_score: { value: 0.88, contribution: 0.05, direction: "bullish", desc: "Very liquid" },
      model_confidence: { value: 0.82, contribution: -0.11, direction: "bearish", desc: "Models confident NO" },
    },
    model_breakdown: {
      lightgbm: { prob: 0.17, weight: 0.35, confidence: 0.85 },
      xgboost: { prob: 0.19, weight: 0.3, confidence: 0.82 },
      logistic: { prob: 0.2, weight: 0.2, confidence: 0.78 },
      bayesian: { prob: 0.18, weight: 0.15, confidence: 0.8 },
    },
    greeks: { delta: -0.18, gamma: 0.05, theta: -0.001, vega: 0.18, rho: -0.04 },
    correlations: { FEDQ1: 0.45, SPY: -0.62, VIX: 0.55, GOLD: 0.38 },
    related_news: [
      { time: "4h ago", title: "GDP growth beats expectations", sentiment: -0.7, source: "BEA" },
      { time: "1d ago", title: "Unemployment holds at 3.9%", sentiment: -0.6, source: "BLS" },
    ],
  },
];

// Generate markets with price_history and orderbook
export const MARKETS_DATABASE = marketDefinitions.map(m => ({
  ...m,
  price_history: generatePriceHistory(m.market_prob, 90),
  orderbook: generateOrderbook(m.market_prob),
}));

export const PORTFOLIO_POSITIONS = [
  { market_id: "poly-btc-150k", side: "YES", shares: 500, avg_price: 0.31, current_price: 0.34 },
  { market_id: "kalshi-fed-q1", side: "NO", shares: 300, avg_price: 0.35, current_price: 0.38 },
  { market_id: "poly-spacex", side: "YES", shares: 400, avg_price: 0.72, current_price: 0.75 },
  { market_id: "poly-gpt5", side: "YES", shares: 250, avg_price: 0.52, current_price: 0.55 },
];

export const NEWS_FEED = [
  { id: 1, time: "2 min ago", source: "Bloomberg", title: "Bitcoin ETF sees $500M daily inflow, largest since launch", sentiment: 0.82, markets: ["BTC150K", "ETH5K"], category: "Crypto" },
  { id: 2, time: "15 min ago", source: "Reuters", title: "Fed officials signal patience on rate cuts amid sticky inflation", sentiment: -0.65, markets: ["FEDQ1", "USREC"], category: "Economics" },
  { id: 3, time: "32 min ago", source: "SpaceX", title: "Starship Flight 8 scheduled for January 15th", sentiment: 0.78, markets: ["SXSHIP"], category: "Science" },
  { id: 4, time: "1 hr ago", source: "WSJ", title: "TikTok ban bill advances to Senate floor vote", sentiment: 0.71, markets: ["TIKTOK"], category: "Tech" },
  { id: 5, time: "1.5 hr ago", source: "Twitter", title: '@sama: "The progress on GPT-5 is incredible. 2025 will surprise everyone."', sentiment: 0.85, markets: ["GPT5"], category: "Tech" },
  { id: 6, time: "2 hr ago", source: "AP", title: "Trump envoy holds extended meeting with Putin in Moscow", sentiment: 0.62, markets: ["UKRPCE"], category: "Geopolitics" },
  { id: 7, time: "3 hr ago", source: "CNBC", title: "US GDP Q4 comes in at 3.2%, above expectations", sentiment: -0.55, markets: ["USREC", "FEDQ1"], category: "Economics" },
  { id: 8, time: "4 hr ago", source: "CoinDesk", title: "Ethereum staking deposits hit new all-time high", sentiment: 0.68, markets: ["ETH5K"], category: "Crypto" },
];

